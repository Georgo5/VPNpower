# bot/messages.py
from datetime import datetime

def fmt_dt(dt: datetime | None) -> str:
    if not dt:
        return "‚Äî"
    return dt.strftime("%d.%m.%Y %H:%M")

def title_brand(brand: str) -> str:
    # –ú–æ–ª–Ω–∏–∏ –ø–æ –∫—Ä–∞—è–º, –∫–∞–∫ –ø—Ä–æ—Å–∏–ª–∏
    return f"‚ö°Ô∏è <b>{brand}</b> ‚ö°Ô∏è"

def cabinet_text(brand: str, plan: str, expires_at: datetime | None,
                 trial_available: bool, bonus_balance: int,
                 devices_used: int, devices_limit: int, referral_link: str) -> str:
    parts = [title_brand(brand), ""]
    parts.append("üéØ <b>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</b>")
    parts.append(f"üì¶ –¢–∞—Ä–∏—Ñ: <b>{plan}</b>")
    parts.append(f"‚è≥ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: <b>{fmt_dt(expires_at)}</b>")
    if trial_available:
        parts.append("üéÅ –î–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ <b>3 –¥–Ω—è</b> ‚Äî –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤ –æ–¥–∏–Ω —Ç–∞–ø –Ω–∏–∂–µ.")
    parts.append(f"üí≥ –ë–æ–Ω—É—Å–Ω—ã–π –±–∞–ª–∞–Ω—Å: <b>{bonus_balance} ‚ÇΩ</b>")
    parts.append(f"üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: <b>{devices_used}</b> / <b>{devices_limit}</b>")
    parts.append("")
    parts.append("üöÄ <b>–ü–æ–¥–µ–ª–∏—Å—å —Å—É–ø–µ—Ä—Å–∏–ª–æ–π VPN —Å –¥—Ä—É–∑—å—è–º–∏</b> –∏ –ø–æ–ª—É—á–∏ <b>+100 ‚ÇΩ</b> –Ω–∞ –±–æ–Ω—É—Å–Ω—ã–π –±–∞–ª–∞–Ω—Å:")
    parts.append(f"üîó {referral_link}")
    return "\n".join(parts)

def vpnpower_text() -> str:
    return (
        "‚ú® <b>VPNpower ‚Äî –±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑ –ª–∏—à–Ω–µ–π —Å—É–µ—Ç—ã</b>\n\n"
        "‚úÖ –î–æ—Å—Ç—É–ø –∫ –ª—é–±–∏–º—ã–º —Å–µ—Ä–≤–∏—Å–∞–º: YouTube, ChatGPT, Telegram, Instagram –∏ –¥—Ä.\n"
        "üîí –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞, –±–µ–∑ –ª–æ–≥–æ–≤ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π.\n"
        "‚öôÔ∏è –ü—Ä–æ—Å—Ç–æ–π –∏–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: –æ–¥–∏–Ω —Ç–∞–ø ‚Äî –∏ –≥–æ—Ç–æ–≤–æ.\n"
        "üåç –ù–µ—Å–∫–æ–ª—å–∫–æ –≥–µ–æ‚Äë—É–∑–ª–æ–≤ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏."
    )

def help_text() -> str:
    return (
        "üÜò <b>–ü–æ–º–æ—â—å</b>\n\n"
        "‚Äî –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)\n"
        "‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∏–º–ø–æ—Ä—Ç—É\n"
        "‚Äî –ñ–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞: –Ω–∞–∂–º–∏—Ç–µ ¬´–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É¬ª"
    )

def renew_text() -> str:
    return (
        "üí≥ <b>–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</b>\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:"
    )

def connect_header() -> str:
    return (
        "üîå <b>–ü–æ–¥–∫–ª—é—á–∏—Ç—å VPN</b>\n\n"
        "1) –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã\n"
        "2) –ù–∞–∂–º–∏—Ç–µ ¬´–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å¬ª ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
    )
